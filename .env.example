# AI Analysis / Backend Service
# NOTE:
# - 本示例仅作占位，请勿提交真实密钥到仓库
# - AI/后端均为可选；默认本地/离线也可使用
# - 若启用后端，建议通过 HTTPS 部署并在 Settings 中显式开启远端

# 优先使用 SERVER_BASE_URL；如果未设置，则回退到 AI_ANALYSIS_BASE_URL（兼容旧配置）
SERVER_BASE_URL=http://127.0.0.1:8000
AI_ANALYSIS_BASE_URL=

# Backend Health & Timeouts (optional)
HEALTH_PATH=/health
CONNECT_TIMEOUT_MS=8000
RECEIVE_TIMEOUT_MS=12000
SEND_TIMEOUT_MS=8000

# Internal metrics protection (optional)
# Set a secret to require X-API-Key on /metrics and /metrics_prom
METRICS_API_KEY=

# Optional: DeepSeek AI for in-app AIService
DEEPSEEK_API_KEY=
DEEPSEEK_API_ENDPOINT=https://api.deepseek.com/v1/chat/completions

# Weather Service
WEATHER_PROVIDER=open-meteo
QWEATHER_API_KEY=

# Remote Backend (if needed)
ENABLE_REMOTE_BACKEND=false


# --- Server (container) ---
# Vector embedding model
EMBED_MODEL=moka-ai/m3e-small
# Redis inside compose network
REDIS_URL=redis://redis:6379/0
# Data dir in container (mounted volume)
DATA_DIR=/data
# Internal API key (optional)
AI_SERVICE_INTERNAL_KEY=
# Vector retrieval threshold
MEMORY_VECTOR_SCORE_THRESHOLD=0.6
