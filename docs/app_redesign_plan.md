# æš–çŒ«åº”ç”¨é‡æ–°è®¾è®¡æ–¹æ¡ˆ

## ğŸ¯ è®¾è®¡ç›®æ ‡

åŸºäºç”¨æˆ·éœ€æ±‚ï¼Œå°†æš–çŒ«åº”ç”¨é‡æ–°å®šä½ä¸º**AIå¿ƒç†ç–—æ„ˆä¸æ—…è¡Œè®°å½•**çš„ä¸“ä¸šåº”ç”¨ï¼Œå»é™¤å¤æ‚çš„æ¸¸æˆåŒ–å…ƒç´ ï¼Œä¸“æ³¨äºæ ¸å¿ƒä»·å€¼ï¼šå¿ƒç†å¥åº·æ”¯æŒå’Œç¾å¥½å›å¿†è®°å½•ã€‚

## ğŸ“‹ åŠŸèƒ½å˜æ›´æ¸…å•

### âœ… ä¿ç•™å¹¶åŠ å¼ºçš„åŠŸèƒ½
1. **AIå¯¹è¯ç³»ç»Ÿ** â†’ **ä¸“ä¸šå¿ƒç†å’¨è¯¢ç³»ç»Ÿ**
2. **æ—…è¡Œè®°å½•** â†’ **å¢å¼ºæ—…è¡Œè®°å½•ç³»ç»Ÿ**
3. **åŸºç¡€çŒ«å’ªäº’åŠ¨** â†’ **ç®€åŒ–æƒ…æ„Ÿé™ªä¼´**

### âŒ ç§»é™¤çš„åŠŸèƒ½
1. çŒ«å’ªè£…æ‰®ç³»ç»Ÿ
2. çŒ«å’ªæˆé•¿ç³»ç»Ÿ
3. æˆå°±ç³»ç»Ÿ
4. å¤æ‚çš„æ¸¸æˆåŒ–å…ƒç´ 

### ğŸ†• æ–°å¢åŠŸèƒ½
1. **æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ**
2. **ç”¨æˆ·æ³¨å†Œç™»å½•ç³»ç»Ÿ**
3. **äº‘æ•°æ®åŒæ­¥**
4. **ä¸“ä¸šå¿ƒç†å¥åº·ç›‘æµ‹**

## ğŸ—ï¸ æ–°æ¶æ„è®¾è®¡

### æ ¸å¿ƒæ¨¡å—é‡æ„

#### 1. ç”¨æˆ·ç³»ç»Ÿæ¨¡å— (UserModule)
```
lib/modules/user/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user_model.dart           # ç”¨æˆ·æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ auth_model.dart           # è®¤è¯çŠ¶æ€æ¨¡å‹
â”‚   â””â”€â”€ profile_model.dart        # ç”¨æˆ·èµ„æ–™æ¨¡å‹
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ auth_provider.dart        # è®¤è¯çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ user_provider.dart        # ç”¨æˆ·ä¿¡æ¯ç®¡ç†
â”‚   â””â”€â”€ cloud_sync_provider.dart  # äº‘åŒæ­¥ç®¡ç†
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ auth_service.dart         # Firebaseè®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ user_service.dart         # ç”¨æˆ·æ•°æ®æœåŠ¡
â”‚   â””â”€â”€ cloud_storage_service.dart # äº‘å­˜å‚¨æœåŠ¡
â””â”€â”€ screens/
    â”œâ”€â”€ login_screen.dart         # ç™»å½•é¡µé¢
    â”œâ”€â”€ register_screen.dart      # æ³¨å†Œé¡µé¢
    â””â”€â”€ profile_screen.dart       # ä¸ªäººèµ„æ–™é¡µé¢
```

#### 2. AIå¿ƒç†å’¨è¯¢æ¨¡å— (PsychologyModule)
```
lib/modules/psychology/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ conversation_model.dart   # å¯¹è¯è®°å½•æ¨¡å‹
â”‚   â”œâ”€â”€ emotion_model.dart        # æƒ…ç»ªåˆ†ææ¨¡å‹
â”‚   â”œâ”€â”€ therapy_session_model.dart # æ²»ç–—ä¼šè¯æ¨¡å‹
â”‚   â””â”€â”€ mental_health_report.dart # å¿ƒç†å¥åº·æŠ¥å‘Šæ¨¡å‹
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ dialogue_provider.dart    # å¯¹è¯ç®¡ç†
â”‚   â”œâ”€â”€ emotion_provider.dart     # æƒ…ç»ªåˆ†æ
â”‚   â””â”€â”€ therapy_provider.dart     # æ²»ç–—æ–¹æ¡ˆç®¡ç†
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ ai_chat_service.dart      # AIå¯¹è¯æœåŠ¡
â”‚   â”œâ”€â”€ emotion_analysis_service.dart # æƒ…ç»ªåˆ†ææœåŠ¡
â”‚   â”œâ”€â”€ therapy_service.dart      # å¿ƒç†æ²»ç–—æœåŠ¡
â”‚   â””â”€â”€ mental_health_service.dart # å¿ƒç†å¥åº·ç›‘æµ‹
â””â”€â”€ screens/
    â”œâ”€â”€ chat_screen.dart          # AIå¯¹è¯ç•Œé¢
    â”œâ”€â”€ emotion_tracking_screen.dart # æƒ…ç»ªè¿½è¸ª
    â””â”€â”€ health_report_screen.dart  # å¥åº·æŠ¥å‘Š
```

#### 3. æ—…è¡Œè®°å½•æ¨¡å— (TravelModule)
```
lib/modules/travel/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ travel_record_model.dart  # æ—…è¡Œè®°å½•æ¨¡å‹
â”‚   â”œâ”€â”€ location_model.dart       # åœ°ç†ä½ç½®æ¨¡å‹
â”‚   â”œâ”€â”€ media_model.dart          # å¤šåª’ä½“å†…å®¹æ¨¡å‹
â”‚   â””â”€â”€ travel_stats_model.dart   # æ—…è¡Œç»Ÿè®¡æ¨¡å‹
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ travel_provider.dart      # æ—…è¡Œè®°å½•ç®¡ç†
â”‚   â”œâ”€â”€ location_provider.dart    # ä½ç½®æœåŠ¡ç®¡ç†
â”‚   â””â”€â”€ media_provider.dart       # åª’ä½“æ–‡ä»¶ç®¡ç†
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ location_service.dart     # å®šä½æœåŠ¡
â”‚   â”œâ”€â”€ map_service.dart          # åœ°å›¾æœåŠ¡
â”‚   â”œâ”€â”€ media_service.dart        # åª’ä½“å¤„ç†æœåŠ¡
â”‚   â””â”€â”€ travel_stats_service.dart # ç»Ÿè®¡åˆ†ææœåŠ¡
â””â”€â”€ screens/
    â”œâ”€â”€ travel_map_screen.dart    # æ—…è¡Œåœ°å›¾
    â”œâ”€â”€ record_edit_screen.dart   # è®°å½•ç¼–è¾‘
    â””â”€â”€ travel_stats_screen.dart  # æ—…è¡Œç»Ÿè®¡
```

#### 4. çŒ«å’ªé™ªä¼´æ¨¡å— (CompanionModule) - ç®€åŒ–ç‰ˆ
```
lib/modules/companion/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ cat_model.dart            # ç®€åŒ–çš„çŒ«å’ªæ¨¡å‹
â”‚   â””â”€â”€ interaction_model.dart    # äº’åŠ¨è®°å½•æ¨¡å‹
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ cat_provider.dart         # ç®€åŒ–çš„çŒ«å’ªç®¡ç†
â”œâ”€â”€ services/
â”‚   â””â”€â”€ companion_service.dart    # é™ªä¼´æœåŠ¡
â””â”€â”€ screens/
    â””â”€â”€ cat_home_screen.dart      # çŒ«å’ªå®¶å›­ï¼ˆç®€åŒ–ç‰ˆï¼‰
```

#### 5. æ–°æ‰‹å¼•å¯¼æ¨¡å— (OnboardingModule)
```
lib/modules/onboarding/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ onboarding_step_model.dart # å¼•å¯¼æ­¥éª¤æ¨¡å‹
â”‚   â””â”€â”€ cat_selection_model.dart   # çŒ«å’ªé€‰æ‹©æ¨¡å‹
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ onboarding_provider.dart   # å¼•å¯¼æµç¨‹ç®¡ç†
â”œâ”€â”€ services/
â”‚   â””â”€â”€ onboarding_service.dart    # å¼•å¯¼æœåŠ¡
â””â”€â”€ screens/
    â”œâ”€â”€ welcome_screen.dart         # æ¬¢è¿é¡µé¢
    â”œâ”€â”€ cat_selection_screen.dart   # çŒ«å’ªé€‰æ‹©
    â”œâ”€â”€ tutorial_screen.dart        # åŠŸèƒ½æ•™ç¨‹
    â””â”€â”€ setup_complete_screen.dart  # è®¾ç½®å®Œæˆ
```

## ğŸ¨ UI/UX é‡æ–°è®¾è®¡

### è®¾è®¡åŸåˆ™
1. **ç®€æ´ä¸“ä¸š**: å»é™¤æ¸¸æˆåŒ–å…ƒç´ ï¼Œé‡‡ç”¨ä¸“ä¸šè€Œæ¸©æš–çš„è®¾è®¡
2. **æƒ…æ„ŸåŒ–è®¾è®¡**: ä¿æŒæ²»æ„ˆç³»çš„è§†è§‰é£æ ¼
3. **æ˜“ç”¨æ€§**: ç®€åŒ–æ“ä½œæµç¨‹ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
4. **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„è«å…°è¿ªè‰²ç³»å’Œè®¾è®¡è¯­è¨€

### ä¸»è¦é¡µé¢é‡æ–°è®¾è®¡

#### 1. åº•éƒ¨å¯¼èˆªæ 
```
ğŸ  å®¶å›­ | ğŸ’¬ å¯¹è¯ | ğŸ—ºï¸ æ—…è¡Œ | ğŸ‘¤ æˆ‘çš„
```

#### 2. çŒ«å’ªå®¶å›­é¡µé¢ (ç®€åŒ–ç‰ˆ)
- ç§»é™¤å¤æ‚çš„çŠ¶æ€é¢æ¿
- ä¿ç•™åŸºç¡€çš„è§¦æ‘¸äº’åŠ¨
- æ·»åŠ å¿«é€Ÿè¿›å…¥å¯¹è¯çš„å…¥å£
- æ˜¾ç¤ºç”¨æˆ·å½“å‰å¿ƒç†çŠ¶æ€

#### 3. AIå¯¹è¯é¡µé¢ (ä¸“ä¸šåŒ–)
- ç±»ä¼¼ä¸“ä¸šå¿ƒç†å’¨è¯¢çš„ç•Œé¢è®¾è®¡
- å®æ—¶æƒ…ç»ªè¯†åˆ«æ˜¾ç¤º
- ä¸“ä¸šå»ºè®®å’ŒæŒ‡å¯¼å±•ç¤º
- å†å²å¯¹è¯è®°å½•ç®¡ç†

#### 4. æ—…è¡Œåœ°å›¾é¡µé¢ (å¢å¼ºç‰ˆ)
- æ›´ç²¾ç¾çš„åœ°å›¾ç•Œé¢
- ä¸°å¯Œçš„ç­›é€‰å’Œæœç´¢åŠŸèƒ½
- è¯¦ç»†çš„ç»Ÿè®¡æ•°æ®å±•ç¤º
- ä¼˜åŒ–çš„è®°å½•åˆ›å»ºæµç¨‹

## ğŸ”§ æŠ€æœ¯å®ç°è®¡åˆ’

### ç¬¬ä¸€æ­¥ï¼šç§»é™¤ä¸éœ€è¦çš„åŠŸèƒ½
1. åˆ é™¤è£…æ‰®ç›¸å…³ä»£ç 
2. åˆ é™¤æˆé•¿ç³»ç»Ÿä»£ç 
3. åˆ é™¤æˆå°±ç³»ç»Ÿä»£ç 
4. ç®€åŒ–çŒ«å’ªäº’åŠ¨é€»è¾‘

### ç¬¬äºŒæ­¥ï¼šé‡æ„ç°æœ‰åŠŸèƒ½
1. ç®€åŒ–CatProvider
2. å¢å¼ºDialogueProviderä¸ºä¸“ä¸šå¿ƒç†å’¨è¯¢
3. å‡çº§TravelProvideræ”¯æŒæ›´å¤šåŠŸèƒ½

### ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ æ–°åŠŸèƒ½
1. å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
2. é›†æˆFirebaseäº‘æœåŠ¡
3. å¼€å‘æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ
4. æ·»åŠ ä¸“ä¸šå¿ƒç†åˆ†æåŠŸèƒ½

### ç¬¬å››æ­¥ï¼šUIé‡æ–°è®¾è®¡
1. æ›´æ–°ä¸»é¢˜å’Œè‰²å½©ç³»ç»Ÿ
2. é‡æ–°è®¾è®¡æ‰€æœ‰ä¸»è¦é¡µé¢
3. ä¼˜åŒ–ç”¨æˆ·äº¤äº’æµç¨‹
4. æ·»åŠ ä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### Firebase Firestore é›†åˆç»“æ„
```
users/                          # ç”¨æˆ·é›†åˆ
â”œâ”€â”€ {userId}/
â”‚   â”œâ”€â”€ profile                 # ç”¨æˆ·èµ„æ–™
â”‚   â”œâ”€â”€ cat                     # çŒ«å’ªä¿¡æ¯
â”‚   â”œâ”€â”€ conversations/          # å¯¹è¯è®°å½•å­é›†åˆ
â”‚   â”œâ”€â”€ emotions/               # æƒ…ç»ªè®°å½•å­é›†åˆ
â”‚   â”œâ”€â”€ travels/                # æ—…è¡Œè®°å½•å­é›†åˆ
â”‚   â””â”€â”€ settings               # ç”¨æˆ·è®¾ç½®

mental_health_reports/          # å¿ƒç†å¥åº·æŠ¥å‘Š
â”œâ”€â”€ {reportId}/
â”‚   â”œâ”€â”€ userId
â”‚   â”œâ”€â”€ reportData
â”‚   â””â”€â”€ generatedAt

travel_statistics/              # æ—…è¡Œç»Ÿè®¡
â”œâ”€â”€ {userId}/
â”‚   â””â”€â”€ stats
```

## ğŸš€ å®æ–½æ—¶é—´çº¿

### ç¬¬1å‘¨ï¼šæ¶æ„é‡æ„
- ç§»é™¤ä¸éœ€è¦çš„åŠŸèƒ½æ¨¡å—
- é‡æ„ç°æœ‰ä»£ç ç»“æ„
- æ›´æ–°ä¾èµ–å’Œé…ç½®

### ç¬¬2-3å‘¨ï¼šç”¨æˆ·ç³»ç»Ÿå¼€å‘
- Firebaseé›†æˆ
- ç”¨æˆ·è®¤è¯åŠŸèƒ½
- äº‘æ•°æ®åŒæ­¥

### ç¬¬4-5å‘¨ï¼šAIå¿ƒç†å’¨è¯¢å‡çº§
- ä¸“ä¸šå¿ƒç†æ¨¡å‹è®­ç»ƒ
- æƒ…ç»ªåˆ†æåŠŸèƒ½
- å¥åº·ç›‘æµ‹ç³»ç»Ÿ

### ç¬¬6-7å‘¨ï¼šæ—…è¡Œç³»ç»Ÿå¢å¼º
- åœ°å›¾åŠŸèƒ½ä¼˜åŒ–
- å¤šåª’ä½“è®°å½•æ”¯æŒ
- ç»Ÿè®¡åˆ†æåŠŸèƒ½

### ç¬¬8å‘¨ï¼šæ–°æ‰‹å¼•å¯¼ä¸æµ‹è¯•
- æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ
- æ•´ä½“æµ‹è¯•å’Œä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒæ”¹è¿›

è¿™ä¸ªé‡æ–°è®¾è®¡æ–¹æ¡ˆå°†æš–çŒ«åº”ç”¨è½¬å˜ä¸ºä¸€ä¸ªä¸“ä¸šè€Œæ¸©æš–çš„å¿ƒç†å¥åº·å’Œæ—…è¡Œè®°å½•å¹³å°ï¼Œæ—¢ä¿æŒäº†åŸæœ‰çš„æ²»æ„ˆç‰¹è‰²ï¼Œåˆå¢å¼ºäº†å®ç”¨ä»·å€¼ã€‚
